#!/usr/bin/env python

import sys
import argparse
import decimal

parser = argparse.ArgumentParser()
parser.add_argument('files', metavar='N', type=str, nargs='+',
    help='files to analyze')
parser.add_argument(
        '--max_len',
        help='start at line START',
        type=int, default=80)
parser.add_argument('--verbose', help='be verbose', action='store_true')
parser.add_argument('--quiet', help='be quiet ', action='store_false')

args = parser.parse_args()

if args.verbose:
  print args

for fn in args.files:
  f = open(fn)
  line_num = 0
  max_len = 0
  for line in f:
    line = line.strip()
    line_len = len(line)
    line_num = line_num + 1
    max_len = max( max_len, line_len)
    if line_len > args.max_len:
      print "%s:%d has length %d" % (fn,line_num, line_len)
